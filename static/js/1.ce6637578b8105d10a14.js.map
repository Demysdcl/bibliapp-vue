{"version":3,"sources":["webpack:///static/js/1.ce6637578b8105d10a14.js","webpack:///./src/utils/listUtil.js","webpack:///form.vue","webpack:///main.vue","webpack:///./src/app/books/main.vue?0c9d","webpack:///./src/app/books/main.vue?aa3e","webpack:///./src/app/books/form.vue","webpack:///./src/app/books/main.vue","webpack:///./src/app/books/main.vue?05b3","webpack:///./src/app/books/form.vue?bdae"],"names":["webpackJsonp","49","module","exports","Object","defineProperty","value","createPagination","list","currentPage","pagination","total","length","per_page","total_pages","Math","ceil","createPage","fin","ini","slice","158","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_extends2","_extends3","_vuex","name","data","book","id","authorId","title","mounted","this","fetch","fetchAuthors","watch","$route","computed","mapState","authors","state","Authors","full_list","isEditing","isValid","resetMessages","setMessage","type","message","methods","mapActions","_this","params","undefined","setFetching","fetching","$http","get","then","res","_res$data$data","_this2","_ref","forEach","author","fullName","firstName","lastName","authorsSetData","submit","update","save","_this3","post","$bus","$emit","reset","_this4","put","159","_listUtil","edit","index","books","$router","push","query","page","create","hide","resp","booksSetData","navigate","askRemove","swal","text","showCancelButton","confirmButtonColor","confirmButtonText","closeOnConfirm","remove","delete","isFormVisible","catch","error","response","messages","Books","parseInt","beforeRouteLeave","to","from","next","$off","jQuery","off","$on","244","version","sources","names","mappings","file","sourcesContent","sourceRoot","269","content","locals","286","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","287","_scopeId","297","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","directives","rawName","expression","attrs","icon","size","on","click","modifiers","body","staticStyle","width","stripe","border","prop","label","inlineTemplate","$event","scope","$index","current-page","current_page","page-size","layout","current-change","302","ref","model","label-width","callback","$$v","$set","placeholder","filterable","_l"],"mappings":"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","file":"static/js/1.ce6637578b8105d10a14.js","sourcesContent":["webpackJsonp([1,4],{\n\n/***/ 49:\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar createPagination = exports.createPagination = function createPagination(list, currentPage) {\n\t  var pagination = {};\n\t  pagination.total = list.length;\n\t  pagination.per_page = 10;\n\t  pagination.currentPage = currentPage;\n\t  pagination.total_pages = Math.ceil(pagination.total / pagination.per_page);\n\t  return pagination;\n\t};\n\t\n\tvar createPage = exports.createPage = function createPage(list, pagination, currentPage) {\n\t  var fin = currentPage * pagination.per_page;\n\t  var ini = fin - pagination.per_page;\n\t  if (fin > list.length) {\n\t    fin = list.length;\n\t  }\n\t  return list.slice(ini, fin);\n\t};\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(5);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(10);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'CcBooksForm',\n\t\n\t  data: function data() {\n\t    return {\n\t      book: {\n\t        id: null,\n\t        authorId: '',\n\t        title: ''\n\t      }\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.fetch();\n\t    this.fetchAuthors();\n\t  },\n\t\n\t  watch: {\n\t    $route: 'fetch'\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    authors: function authors(state) {\n\t      return state.Authors.full_list;\n\t    }\n\t  }), {\n\t    isEditing: function isEditing() {\n\t      return this.book.id > 0;\n\t    },\n\t    isValid: function isValid() {\n\t      this.resetMessages();\n\t      if (this.book.title === '') {\n\t        this.setMessage({ type: 'error', message: ['Please fill book title'] });\n\t        return false;\n\t      }\n\t      return true;\n\t    }\n\t  }),\n\t\n\t  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['authorsSetData', 'setFetching', 'resetMessages', 'setMessage']), {\n\t    fetch: function fetch() {\n\t      var _this = this;\n\t\n\t      var id = this.$route.params.id;\n\t\n\t      if (id !== undefined) {\n\t        this.setFetching({ fetching: true });\n\t        this.$http.get('books/' + id).then(function (res) {\n\t          var _res$data$data = res.data.data,\n\t              id = _res$data$data.id,\n\t              title = _res$data$data.title,\n\t              authorId = _res$data$data.authorId;\n\t\n\t          _this.book.title = title;\n\t          _this.book.id = id;\n\t          _this.book.authorId = authorId;\n\t          _this.setFetching({ fetching: false });\n\t        });\n\t      }\n\t    },\n\t    fetchAuthors: function fetchAuthors() {\n\t      var _this2 = this;\n\t\n\t      if (!this.authors.length) {\n\t        this.setFetching({ fetching: true });\n\t        this.$http.get('authors').then(function (_ref) {\n\t          var data = _ref.data;\n\t\n\t\n\t          data.forEach(function (author) {\n\t            author.fullName = author.firstName + \" \" + author.lastName;\n\t          });\n\t\n\t          _this2.authorsSetData({\n\t            full_list: data\n\t          });\n\t          _this2.setFetching({ fetching: false });\n\t        });\n\t      }\n\t    },\n\t    submit: function submit() {\n\t      if (this.isValid) {\n\t        this.setFetching({ fetching: true });\n\t\n\t        if (this.isEditing) {\n\t          this.update();\n\t        } else {\n\t          this.save();\n\t        }\n\t      }\n\t    },\n\t    save: function save() {\n\t      var _this3 = this;\n\t\n\t      this.$http.post('books', this.book).then(function () {\n\t        _this3.$bus.$emit('book.created');\n\t\n\t        _this3.setFetching({ fetching: false });\n\t\n\t        _this3.setMessage({ type: 'success', message: 'New book was created' });\n\t\n\t        _this3.reset();\n\t      });\n\t    },\n\t    update: function update() {\n\t      var _this4 = this;\n\t\n\t      this.$http.put('books/' + this.book.id, this.book).then(function () {\n\t        _this4.$bus.$emit('book.updated');\n\t\n\t        _this4.setFetching({ fetching: false });\n\t\n\t        _this4.setMessage({ type: 'success', message: 'Book was updated' });\n\t      });\n\t    },\n\t    reset: function reset() {\n\t      this.book.id = 0;\n\t      this.book.authorId = 0;\n\t      this.book.name = '';\n\t    }\n\t  })\n\t};\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(5);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(10);\n\t\n\tvar _listUtil = __webpack_require__(49);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'CcBooks',\n\t\n\t  methods: (0, _extends3.default)({\n\t    edit: function edit(index) {\n\t      var id = this.books[index].id;\n\t\n\t      this.$router.push({\n\t        name: 'books.edit',\n\t        params: { id: id },\n\t        query: { page: this.currentPage } });\n\t    },\n\t    create: function create() {\n\t      this.$router.push({ name: 'books.new', query: { page: this.currentPage } });\n\t    },\n\t    hide: function hide() {\n\t      this.$router.push({ name: 'books.index', query: { page: this.currentPage } });\n\t    }\n\t  }, (0, _vuex.mapActions)(['booksSetData', 'setFetching']), {\n\t    fetch: function fetch() {\n\t      var _this = this;\n\t\n\t      this.setFetching({ fetching: true });\n\t\n\t      this.$http.get('books').then(function (_ref) {\n\t        var data = _ref.data;\n\t\n\t\n\t        data.forEach(function (book) {\n\t\n\t          _this.$http.get('authors/' + book.authorId).then(function (resp) {\n\t            book.author = resp.data;\n\t          });\n\t        });\n\t\n\t        _this.booksSetData({\n\t          list: data,\n\t          pagination: (0, _listUtil.createPagination)(data, _this.currentPage)\n\t        });\n\t\n\t        _this.setFetching({ fetching: false });\n\t      });\n\t    },\n\t    navigate: function navigate(page) {\n\t      this.$router.push({ name: 'books.index', query: { page: page } });\n\t    },\n\t    askRemove: function askRemove(index) {\n\t      var _this2 = this;\n\t\n\t      var book = this.books[index];\n\t      swal({\n\t        title: 'Are you sure?',\n\t        text: 'Book ' + book.title + ' will be permanently removed.',\n\t        type: 'warning',\n\t        showCancelButton: true,\n\t        confirmButtonColor: '#DD6B55',\n\t        confirmButtonText: 'Yes, do it!',\n\t        closeOnConfirm: false\n\t      }, function () {\n\t        return _this2.remove(book);\n\t      });\n\t    },\n\t    remove: function remove(book) {\n\t      var _this3 = this;\n\t\n\t      this.$http.delete('books/' + book.id).then(function () {\n\t        _this3.fetch();\n\t\n\t        swal('Done!', 'Book removed.', 'success');\n\t\n\t        if (_this3.isFormVisible) {\n\t          _this3.$router.push({ name: 'books.index', query: { page: _this3.currentPage } });\n\t        }\n\t      }).catch(function (error) {\n\t        swal('Falha!', error.response.data.messages[0], 'error');\n\t      });\n\t    }\n\t  }),\n\t\n\t  watch: {\n\t    currentPage: 'fetch'\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    fetching: function fetching(state) {\n\t      return state.fetching;\n\t    },\n\t    pagination: function pagination(state) {\n\t      return state.Books.pagination;\n\t    },\n\t    list: function list(state) {\n\t      return state.Books.list;\n\t    }\n\t  }), {\n\t    books: function books() {\n\t      return this.list;\n\t    },\n\t    currentPage: function currentPage() {\n\t      return parseInt(this.$route.query.page, 10) || 1;\n\t    },\n\t    isFormVisible: function isFormVisible() {\n\t      return this.$route.name === 'books.new' || this.$route.name === 'books.edit';\n\t    }\n\t  }),\n\t  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n\t    this.$bus.$off('book.created');\n\t    this.$bus.$off('book.updated');\n\t    jQuery('body').off('keyup');\n\t    next();\n\t  },\n\t  mounted: function mounted() {\n\t    var _this4 = this;\n\t\n\t    this.$bus.$on('book.created', function () {\n\t      return _this4.fetch();\n\t    });\n\t    this.$bus.$on('book.updated', function () {\n\t      return _this4.fetch();\n\t    });\n\t\n\t    this.fetch();\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(40)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".pagination[data-v-59db989d]{float:right;margin-top:20px}.button-within-header[data-v-59db989d]{margin-top:32px}.fade-enter-active[data-v-59db989d],.fade-leave-active[data-v-59db989d]{transition:opacity .7s ease}.fade-enter[data-v-59db989d],.fade-leave-active[data-v-59db989d]{opacity:0}\", \"\", {\"version\":3,\"sources\":[\"/./src/app/books/main.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,YAAa,AACb,eAAiB,CAClB,AACD,uCACE,eAAiB,CAClB,AACD,wEACE,2BAA6B,CAC9B,AACD,iEACE,SAAW,CACZ\",\"file\":\"main.vue\",\"sourcesContent\":[\"\\n.pagination[data-v-59db989d] {\\n  float: right;\\n  margin-top: 20px;\\n}\\n.button-within-header[data-v-59db989d] {\\n  margin-top: 32px;\\n}\\n.fade-enter-active[data-v-59db989d], .fade-leave-active[data-v-59db989d] {\\n  transition: opacity .7s ease;\\n}\\n.fade-enter[data-v-59db989d], .fade-leave-active[data-v-59db989d] {\\n  opacity: 0;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(244);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(44)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-59db989d&scoped=true!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./main.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-59db989d&scoped=true!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./main.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(158)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(302)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(269)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(159)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(297)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-59db989d\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', [_c('div', {\n\t    staticClass: \"row\"\n\t  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"col-md-6 text-right\"\n\t  }, [_c('div', {\n\t    staticClass: \"button-within-header\"\n\t  }, [_c('el-button', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (!_vm.isFormVisible),\n\t      expression: \"!isFormVisible\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"default\",\n\t      \"icon\": \"plus\",\n\t      \"size\": \"mini\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.create\n\t    }\n\t  }), _vm._v(\" \"), _c('el-button', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.isFormVisible),\n\t      expression: \"isFormVisible\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"default\",\n\t      \"icon\": \"minus\",\n\t      \"size\": \"mini\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.hide\n\t    }\n\t  })], 1)])]), _vm._v(\" \"), _c('transition', {\n\t    attrs: {\n\t      \"name\": \"fade\"\n\t    }\n\t  }, [_c('router-view')], 1), _vm._v(\" \"), _c('el-table', {\n\t    directives: [{\n\t      name: \"loading\",\n\t      rawName: \"v-loading.body\",\n\t      value: (_vm.fetching),\n\t      expression: \"fetching\",\n\t      modifiers: {\n\t        \"body\": true\n\t      }\n\t    }],\n\t    staticStyle: {\n\t      \"width\": \"100%\"\n\t    },\n\t    attrs: {\n\t      \"data\": _vm.books,\n\t      \"stripe\": \"\",\n\t      \"border\": \"\"\n\t    }\n\t  }, [_c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"id\",\n\t      \"label\": \"ID\",\n\t      \"width\": \"80\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"title\",\n\t      \"label\": \"Book\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"prop\": \"author.firstName\",\n\t      \"label\": \"Author\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-table-column', {\n\t    attrs: {\n\t      \"label\": \"Options\",\n\t      \"width\": \"100\"\n\t    },\n\t    inlineTemplate: {\n\t      render: function() {\n\t        var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t          return _c('div', [_c('el-button', {\n\t            attrs: {\n\t              \"type\": \"default\",\n\t              \"icon\": \"edit\",\n\t              \"size\": \"mini\"\n\t            },\n\t            on: {\n\t              \"click\": function($event) {\n\t                _vm.edit(_vm.scope.$index)\n\t              }\n\t            }\n\t          }), _vm._v(\" \"), _c('el-button', {\n\t            attrs: {\n\t              \"type\": \"default\",\n\t              \"icon\": \"delete\",\n\t              \"size\": \"mini\"\n\t            },\n\t            on: {\n\t              \"click\": function($event) {\n\t                _vm.askRemove(_vm.scope.$index)\n\t              }\n\t            }\n\t          })], 1)\n\t        \n\t      },\n\t      staticRenderFns: []\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"pagination\"\n\t  }, [_c('el-pagination', {\n\t    attrs: {\n\t      \"current-page\": _vm.pagination.current_page,\n\t      \"page-size\": _vm.pagination.per_page,\n\t      \"layout\": \"total, prev, pager, next, jumper\",\n\t      \"total\": _vm.pagination.total\n\t    },\n\t    on: {\n\t      \"current-change\": _vm.navigate\n\t    }\n\t  })], 1)], 1)\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"col-md-6\"\n\t  }, [_c('h1', [_vm._v(\"Book Management\")])])\n\t}]}\n\n/***/ }),\n\n/***/ 302:\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"well\"\n\t  }, [_c('el-form', {\n\t    ref: \"form\",\n\t    attrs: {\n\t      \"model\": _vm.book,\n\t      \"label-width\": \"120px\"\n\t    }\n\t  }, [_c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"Book title\"\n\t    }\n\t  }, [_c('el-input', {\n\t    model: {\n\t      value: (_vm.book.title),\n\t      callback: function($$v) {\n\t        _vm.$set(_vm.book, \"title\", $$v)\n\t      },\n\t      expression: \"book.title\"\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"Author\"\n\t    }\n\t  }, [_c('el-select', {\n\t    attrs: {\n\t      \"placeholder\": \"Select Author\",\n\t      \"filterable\": \"\"\n\t    },\n\t    model: {\n\t      value: (_vm.book.authorId),\n\t      callback: function($$v) {\n\t        _vm.$set(_vm.book, \"authorId\", $$v)\n\t      },\n\t      expression: \"book.authorId\"\n\t    }\n\t  }, _vm._l((_vm.authors), function(author) {\n\t    return _c('el-option', {\n\t      attrs: {\n\t        \"label\": author.fullName,\n\t        \"value\": author.id\n\t      }\n\t    })\n\t  })), _vm._v(\" \"), _c('el-button', {\n\t    on: {\n\t      \"click\": _vm.submit\n\t    }\n\t  }, [_vm._v(\"Save\")])], 1)], 1)], 1)\n\t},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.ce6637578b8105d10a14.js","export const createPagination = (list, currentPage) => {\n  const pagination = {}\n  pagination.total = list.length\n  pagination.per_page = 10\n  pagination.currentPage = currentPage\n  pagination.total_pages = Math.ceil(pagination.total / pagination.per_page)\n  return pagination\n}\n\nexport const createPage = (list, pagination, currentPage) => {\n  let fin = currentPage * pagination.per_page\n  const ini = fin - pagination.per_page\n  if (fin > list.length) {\n    fin = list.length\n  }\n  return list.slice(ini, fin)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/listUtil.js","\n<script>\n  import { mapActions, mapState } from 'vuex'\n\n  export default {\n    name: 'CcBooksForm',\n\n    /**\n    * Component's local state\n    */\n    data() {\n      return {\n        book: {\n          id: null,\n          authorId: '',\n          title: '',\n        },\n      }\n    },\n\n    /**\n    * Fetch book when component is first mounted\n    */\n    mounted() {\n      this.fetch()\n      this.fetchAuthors()\n    },\n\n    /**\n    * Also fetch book every time route changes\n    */\n    watch: {\n      $route: 'fetch',\n    },\n\n    /**\n    * Determines based on the presence of\n    * book id if the current actions\n    * is editing instead of creating.\n    */\n    computed: {\n      ...mapState({\n        authors: state => state.Authors.full_list,\n      }),\n      isEditing() {\n        return this.book.id > 0\n      },\n      isValid() {\n        this.resetMessages()\n        if (this.book.title === '') {\n          this.setMessage({ type: 'error', message: ['Please fill book title'] })\n          return false\n        }\n        return true\n      },\n    },\n\n    methods: {\n      ...mapActions(['authorsSetData', 'setFetching', 'resetMessages', 'setMessage']),\n      /**\n      * If there's an ID in the route params\n      * then use it to fetch the book\n      * from the server\n      */\n      fetch() {\n        const id = this.$route.params.id\n        /**\n        * This same component is used for create\n        * and update so we have to check if\n        * ID is not undefined.\n        */\n        if (id !== undefined) {\n          /**\n          * Fetch the book from the server\n          */\n          this.setFetching({ fetching: true })\n          this.$http.get(`books/${id}`).then((res) => {\n            // http://wesbos.com/destructuring-renaming/\n            const { id, title, authorId } = res.data.data\n            this.book.title = title\n            this.book.id = id\n            this.book.authorId = authorId\n            this.setFetching({ fetching: false })\n            // debugger\n            /**\n            * If you're uncertain of where the data comes from\n            * just uncomment the debugger instruction above\n            * open Chrome Dev Tools and reload the page\n            * this will give you the opportunity to\n            * inspect the response and the data\n            */\n          })\n        }\n      },\n      fetchAuthors() {\n        if (!this.authors.length) {\n          this.setFetching({ fetching: true })\n          this.$http.get('authors').then(({ data }) => {\n            /**\n            * Vuex action to set full list array in\n            * the Vuex Authors module\n            */\n\n            data.forEach(author => {\n              author.fullName = author.firstName + \" \" + author.lastName\n            })\n\n            this.authorsSetData({\n              full_list: data,\n            })\n            this.setFetching({ fetching: false })\n          })\n        }\n      },\n      submit() {\n        /**\n        * Pre-conditions are met\n        */\n        if (this.isValid) {\n          /**\n          * Shows the global spinner\n          */\n          this.setFetching({ fetching: true })\n\n          if (this.isEditing) {\n            this.update()\n          } else {\n            this.save()\n          }\n        }\n      },\n      save() {\n        this.$http.post('books', this.book).then(() => {\n          /**\n          * This event will notify the world about\n          * the book creation. In this case\n          * the Book main component will intercept\n          * the event and refresh the list.\n          */\n          this.$bus.$emit('book.created')\n\n          /**\n          * Hides the global spinner\n          */\n          this.setFetching({ fetching: false })\n\n          /**\n          * Sets the global feedback message\n          */\n          this.setMessage({ type: 'success', message: 'New book was created' })\n\n          /**\n          * Resets component's state\n          */\n          this.reset()\n        })\n      },\n      update() {\n        this.$http.put(`books/${this.book.id}`, this.book).then(() => {\n          /**\n          * This event will notify the world about\n          * the book creation. In this case\n          * the Book main component will intercept\n          * the event and refresh the list.\n          */\n          this.$bus.$emit('book.updated')\n\n          /**\n          * Hides the global spinner\n          */\n          this.setFetching({ fetching: false })\n\n          /**\n          * Sets the global feedback message\n          */\n          this.setMessage({ type: 'success', message: 'Book was updated' })\n        })\n      },\n      reset() {\n        this.book.id = 0\n        this.book.authorId = 0\n        this.book.name = ''\n      },\n    },\n  }\n</script>\n\n<template>\n  <div class=\"well\">\n    <el-form ref=\"form\" :model=\"book\" label-width=\"120px\">\n      <el-form-item label=\"Book title\">\n        <el-input v-model=\"book.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"Author\">\n        <el-select v-model=\"book.authorId\" placeholder=\"Select Author\" filterable>\n          <el-option\n            v-for=\"author in authors\"\n            :label=\"author.fullName\"\n            :value=\"author.id\">\n          </el-option>\n        </el-select>\n        <el-button @click=\"submit\">Save</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n\n\n// WEBPACK FOOTER //\n// form.vue?29210779","\n<script>\n  import { mapActions, mapState } from 'vuex'\n  import { createPagination, createPage } from 'utils/listUtil'\n\n  export default {\n    /**\n    * Components name to be displayed on\n    * Vue.js Devtools\n    */\n    name: 'CcBooks',\n\n    methods: {\n      edit(index) {\n        const { id } = this.books[index]\n        this.$router.push({\n          name: 'books.edit',\n          params: { id },\n          query: { page: this.currentPage } })\n      },\n      create() {\n        this.$router.push({ name: 'books.new', query: { page: this.currentPage } })\n      },\n      hide() {\n        this.$router.push({ name: 'books.index', query: { page: this.currentPage } })\n      },\n      /**\n      * Brings actions from Vuex to the scope of\n      * this component\n      */\n      ...mapActions(['booksSetData', 'setFetching']),\n\n      /**\n      * Fetch a new set of books\n      * based on the current page\n      */\n      fetch() {\n        /**\n        * Vuex action to set fetching property\n        * to true, thus showing the spinner\n        * that is part of navbar.vue\n        */\n        this.setFetching({ fetching: true })\n\n        /**\n        * Makes the HTTP request to the API\n        * $http is a Vue.js plugins exposing\n        * an Axios object.\n        * See /src/plugins/http.js\n        */\n        this.$http.get(`books`).then(({ data }) => {\n          /**\n          * Vuex action to set pagination object in\n          * the Vuex Books module\n          */\n\n          data.forEach(book => {\n\n            this.$http.get(`authors/${book.authorId}`)\n              .then(resp => {\n                book.author = resp.data\n            })\n          })\n\n          this.booksSetData({\n            list: data,\n            pagination: createPagination(data, this.currentPage),\n          })\n\n          /**\n          * Vuex action to set fetching property\n          * to false, thus hiding the spinner\n          * that is part of navbar.vue\n          */\n          this.setFetching({ fetching: false })\n\n        })\n\n\n      },\n\n      /**\n      * Navigate to a specific page, provided in the\n      * obj received by the method\n      */\n      navigate(page) {\n        /**\n        * Push the page number to the query string\n        */\n        this.$router.push({ name: 'books.index', query: { page } })\n\n      },\n\n      /**\n      * Shows a confirmation dialog\n      */\n      askRemove(index) {\n        const book = this.books[index]\n        swal({\n          title: 'Are you sure?',\n          text: `Book ${book.title} will be permanently removed.`,\n          type: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#DD6B55',\n          confirmButtonText: 'Yes, do it!',\n          closeOnConfirm: false,\n        }, () => this.remove(book)) // callback executed when OK is pressed\n      },\n\n      /**\n      * Makes the HTTP requesto to the API\n      */\n      remove(book) {\n        this.$http.delete(`books/${book.id}`).then(() => {\n          /**\n          * On success fetch a new set of Books\n          * based on current page number\n          */\n          this.fetch()\n\n          /**\n          * Shows a different dialog based on the result\n          */\n          swal('Done!', 'Book removed.', 'success')\n\n          /**\n          * Redirects back to the main list,\n          * in case the form is open\n          */\n          if (this.isFormVisible) {\n            this.$router.push({ name: 'books.index', query: { page: this.currentPage } })\n          }\n        })\n        .catch((error) => {\n          /**\n          * Just shows the result in a form or error.\n          * The general error message is displayed by\n          * the action dispatched by the interceptor.\n          * See /src/plugins/http.js\n          */\n          swal('Falha!', error.response.data.messages[0], 'error')\n        })\n      },\n    },\n\n    watch: {\n      // when page change, fetch new data\n      currentPage: 'fetch',\n    },\n\n    /**\n    * mapState will bring indicated Vuex\n    * state properties to the scope of this component.\n    */\n    computed: {\n      ...mapState({\n        fetching: state => state.fetching,\n        pagination: state => state.Books.pagination,\n        list: state => state.Books.list,\n      }),\n      books() {\n        return this.list\n      },\n      currentPage() {\n        return parseInt(this.$route.query.page, 10) || 1\n      },\n      isFormVisible() {\n        return this.$route.name === 'books.new' || this.$route.name === 'books.edit'\n      },\n    },\n    /**\n    * Right before navigate out to another route\n    * clears all event handlers, thus avoiding\n    * multiple handlers to be set and the annoying\n    * behaviour of multiple AJAX calls being made.\n    */\n    beforeRouteLeave(to, from, next) {\n      this.$bus.$off('book.created')\n      this.$bus.$off('book.updated')\n      jQuery('body').off('keyup')\n      next()\n    },\n    mounted() {\n      /**\n      * Book was created or updated, refresh the list\n      */\n      this.$bus.$on('book.created', () => this.fetch())\n      this.$bus.$on('book.updated', () => this.fetch())\n\n      /**\n      * Fetch data immediately after component is mounted\n      */\n      this.fetch()\n    },\n  }\n</script>\n\n<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <h1>Book Management</h1>\n      </div>\n      <div class=\"col-md-6 text-right\">\n        <div class=\"button-within-header\">\n          <el-button\n            @click=\"create\"\n            v-show=\"!isFormVisible\"\n            type=\"default\"\n            icon=\"plus\"\n            size=\"mini\"></el-button>\n          <el-button\n            @click=\"hide\"\n            v-show=\"isFormVisible\"\n            type=\"default\"\n            icon=\"minus\"\n            size=\"mini\"></el-button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Form to create/edit will be inserted here  -->\n    <!-- when navigate to /create or /edit/{id}  -->\n    <!-- see /src/modules/books/routes.js  -->\n    <transition name=\"fade\">\n      <router-view></router-view>\n    </transition>\n\n    <!-- el-table and its children comes from Element UI -->\n    <!-- http://element.eleme.io/#/en-US/component/table -->\n    <el-table v-loading.body=\"fetching\" :data=\"books\"  stripe border style=\"width: 100%\">\n\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n\n      <el-table-column prop=\"title\" label=\"Book\"></el-table-column>\n\n      <el-table-column prop=\"author.firstName\" label=\"Author\"></el-table-column>\n\n      <el-table-column inline-template label=\"Options\" width=\"100\">\n        <div>\n          <el-button @click=\"edit(scope.$index)\"   type=\"default\" icon=\"edit\" size=\"mini\"></el-button>\n          <el-button @click=\"askRemove(scope.$index)\" type=\"default\" icon=\"delete\" size=\"mini\"></el-button>\n        </div>\n      </el-table-column>\n    </el-table>\n    <div class=\"pagination\">\n      <el-pagination\n        @current-change=\"navigate\"\n        :current-page=\"pagination.current_page\"\n        :page-size=\"pagination.per_page\"\n        layout=\"total, prev, pager, next, jumper\"\n        :total=\"pagination.total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .pagination {\n    float: right;\n    margin-top: 20px;\n  }\n  .button-within-header {\n    margin-top: 32px;\n  }\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .7s ease;\n  }\n  .fade-enter, .fade-leave-active {\n    opacity: 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// main.vue?27fbafb6","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".pagination[data-v-59db989d]{float:right;margin-top:20px}.button-within-header[data-v-59db989d]{margin-top:32px}.fade-enter-active[data-v-59db989d],.fade-leave-active[data-v-59db989d]{transition:opacity .7s ease}.fade-enter[data-v-59db989d],.fade-leave-active[data-v-59db989d]{opacity:0}\", \"\", {\"version\":3,\"sources\":[\"/./src/app/books/main.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,YAAa,AACb,eAAiB,CAClB,AACD,uCACE,eAAiB,CAClB,AACD,wEACE,2BAA6B,CAC9B,AACD,iEACE,SAAW,CACZ\",\"file\":\"main.vue\",\"sourcesContent\":[\"\\n.pagination[data-v-59db989d] {\\n  float: right;\\n  margin-top: 20px;\\n}\\n.button-within-header[data-v-59db989d] {\\n  margin-top: 32px;\\n}\\n.fade-enter-active[data-v-59db989d], .fade-leave-active[data-v-59db989d] {\\n  transition: opacity .7s ease;\\n}\\n.fade-enter[data-v-59db989d], .fade-leave-active[data-v-59db989d] {\\n  opacity: 0;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-59db989d&scoped=true!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/app/books/main.vue\n// module id = 244\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-59db989d&scoped=true!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./main.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-59db989d&scoped=true!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./main.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-59db989d&scoped=true!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./main.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-59db989d&scoped=true!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/app/books/main.vue\n// module id = 269\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./form.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-76982228!vue-loader/lib/selector?type=template&index=0!./form.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/books/form.vue\n// module id = 286\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-59db989d&scoped=true!vue-loader/lib/selector?type=styles&index=0!./main.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./main.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-59db989d!vue-loader/lib/selector?type=template&index=0!./main.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-59db989d\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/books/main.vue\n// module id = 287\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"row\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-6 text-right\"\n  }, [_c('div', {\n    staticClass: \"button-within-header\"\n  }, [_c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isFormVisible),\n      expression: \"!isFormVisible\"\n    }],\n    attrs: {\n      \"type\": \"default\",\n      \"icon\": \"plus\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"click\": _vm.create\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isFormVisible),\n      expression: \"isFormVisible\"\n    }],\n    attrs: {\n      \"type\": \"default\",\n      \"icon\": \"minus\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"click\": _vm.hide\n    }\n  })], 1)])]), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('router-view')], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.fetching),\n      expression: \"fetching\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.books,\n      \"stripe\": \"\",\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"label\": \"ID\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"title\",\n      \"label\": \"Book\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"author.firstName\",\n      \"label\": \"Author\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"Options\",\n      \"width\": \"100\"\n    },\n    inlineTemplate: {\n      render: function() {\n        var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n          return _c('div', [_c('el-button', {\n            attrs: {\n              \"type\": \"default\",\n              \"icon\": \"edit\",\n              \"size\": \"mini\"\n            },\n            on: {\n              \"click\": function($event) {\n                _vm.edit(_vm.scope.$index)\n              }\n            }\n          }), _vm._v(\" \"), _c('el-button', {\n            attrs: {\n              \"type\": \"default\",\n              \"icon\": \"delete\",\n              \"size\": \"mini\"\n            },\n            on: {\n              \"click\": function($event) {\n                _vm.askRemove(_vm.scope.$index)\n              }\n            }\n          })], 1)\n        \n      },\n      staticRenderFns: []\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"pagination\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.pagination.current_page,\n      \"page-size\": _vm.pagination.per_page,\n      \"layout\": \"total, prev, pager, next, jumper\",\n      \"total\": _vm.pagination.total\n    },\n    on: {\n      \"current-change\": _vm.navigate\n    }\n  })], 1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"col-md-6\"\n  }, [_c('h1', [_vm._v(\"Book Management\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-59db989d!./~/vue-loader/lib/selector.js?type=template&index=0!./src/app/books/main.vue\n// module id = 297\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"well\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.book,\n      \"label-width\": \"120px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"Book title\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.book.title),\n      callback: function($$v) {\n        _vm.$set(_vm.book, \"title\", $$v)\n      },\n      expression: \"book.title\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"Author\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"Select Author\",\n      \"filterable\": \"\"\n    },\n    model: {\n      value: (_vm.book.authorId),\n      callback: function($$v) {\n        _vm.$set(_vm.book, \"authorId\", $$v)\n      },\n      expression: \"book.authorId\"\n    }\n  }, _vm._l((_vm.authors), function(author) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": author.fullName,\n        \"value\": author.id\n      }\n    })\n  })), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"Save\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-76982228!./~/vue-loader/lib/selector.js?type=template&index=0!./src/app/books/form.vue\n// module id = 302\n// module chunks = 1"],"sourceRoot":""}